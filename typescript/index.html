<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>busyzz</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="minmin">
    
    <link rel="preload" href="/assets/css/0.styles.dfb10f34.css" as="style"><link rel="preload" href="/assets/js/app.a00d7b6b.js" as="script"><link rel="preload" href="/assets/js/2.735d95ba.js" as="script"><link rel="preload" href="/assets/js/13.bee280c1.js" as="script"><link rel="prefetch" href="/assets/js/10.d6bc3a05.js"><link rel="prefetch" href="/assets/js/11.87288bee.js"><link rel="prefetch" href="/assets/js/12.33059f25.js"><link rel="prefetch" href="/assets/js/3.23d69209.js"><link rel="prefetch" href="/assets/js/4.e49b2975.js"><link rel="prefetch" href="/assets/js/5.f229aa01.js"><link rel="prefetch" href="/assets/js/6.0ae73ca9.js"><link rel="prefetch" href="/assets/js/7.3469ff95.js"><link rel="prefetch" href="/assets/js/8.77372939.js"><link rel="prefetch" href="/assets/js/9.bbb9de69.js">
    <link rel="stylesheet" href="/assets/css/0.styles.dfb10f34.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/images/avatar.jpg" alt="busyzz" class="logo"> <span class="site-name can-hide">busyzz</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  概述
</a></div><div class="nav-item"><a href="/typescript/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Typescript
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  概述
</a></div><div class="nav-item"><a href="/typescript/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Typescript
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/" aria-current="page" class="sidebar-link">概述</a></li><li><a href="/typescript/" aria-current="page" class="active sidebar-link">typescript</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/typescript/#一、类型" class="sidebar-link">一、类型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/typescript/#unknown-与-any" class="sidebar-link">unknown 与 any</a></li><li class="sidebar-sub-header"><a href="/typescript/#void-与-undefined" class="sidebar-link">void 与 undefined</a></li><li class="sidebar-sub-header"><a href="/typescript/#never" class="sidebar-link">never</a></li></ul></li><li class="sidebar-sub-header"><a href="/typescript/#二、运算符" class="sidebar-link">二、运算符</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/typescript/#非空断言运算符" class="sidebar-link">非空断言运算符 !</a></li><li class="sidebar-sub-header"><a href="/typescript/#可选运算符" class="sidebar-link">可选运算符 ?.</a></li><li class="sidebar-sub-header"><a href="/typescript/#与" class="sidebar-link">?? 与 ||</a></li><li class="sidebar-sub-header"><a href="/typescript/#数字分隔符" class="sidebar-link">数字分隔符 _</a></li></ul></li><li class="sidebar-sub-header"><a href="/typescript/#操作符" class="sidebar-link">操作符</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/typescript/#获取键值-keyof" class="sidebar-link">获取键值 keyof</a></li><li class="sidebar-sub-header"><a href="/typescript/#获取对象的类型-typeof" class="sidebar-link">获取对象的类型 typeof</a></li><li class="sidebar-sub-header"><a href="/typescript/#遍历操作-in" class="sidebar-link">遍历操作 in</a></li></ul></li><li class="sidebar-sub-header"><a href="/typescript/#四、泛型" class="sidebar-link">四、泛型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/typescript/#基础使用" class="sidebar-link">基础使用</a></li><li class="sidebar-sub-header"><a href="/typescript/#泛型约束" class="sidebar-link">泛型约束</a></li><li class="sidebar-sub-header"><a href="/typescript/#泛型条件" class="sidebar-link">泛型条件</a></li><li class="sidebar-sub-header"><a href="/typescript/#泛型推断-infer" class="sidebar-link">泛型推断 infer</a></li></ul></li><li class="sidebar-sub-header"><a href="/typescript/#内置泛型" class="sidebar-link">内置泛型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/typescript/#partial-t" class="sidebar-link">Partial&lt;T&gt;</a></li><li class="sidebar-sub-header"><a href="/typescript/#record-k-t" class="sidebar-link">Record&lt;K,T&gt;</a></li><li class="sidebar-sub-header"><a href="/typescript/#pick-t-k" class="sidebar-link">Pick&lt;T,K&gt;</a></li><li class="sidebar-sub-header"><a href="/typescript/#exclude-t-u" class="sidebar-link">Exclude&lt;T,U&gt;</a></li><li class="sidebar-sub-header"><a href="/typescript/#extract-t-u" class="sidebar-link">Extract&lt;T,U&gt;</a></li><li class="sidebar-sub-header"><a href="/typescript/#omit-t-u" class="sidebar-link">Omit&lt;T,U&gt;</a></li></ul></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>本文主要介绍 TypeScript 基础知识，适用于对 TypeScript 有一段时间了解的开发者，主要包括类型、运算符、操作符、泛型、泛型工具、实践经历</p></div> <h2 id="一、类型"><a href="#一、类型" class="header-anchor">#</a> 一、类型</h2> <h3 id="unknown-与-any"><a href="#unknown-与-any" class="header-anchor">#</a> unknown 与 any</h3> <p>unknown 指的是一个未知类型，与 any 不同的是，unknown 类型的变量不能获取变量上面的属性和方法</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> name<span class="token operator">:</span> <span class="token builtin">unknown</span> <span class="token operator">=</span> <span class="token string">&quot;busyzz&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> len <span class="token operator">=</span> name<span class="token punctuation">.</span>length<span class="token punctuation">;</span> <span class="token comment">// 静态编译出错</span>

<span class="token keyword">const</span> name<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token string">&quot;busyzz&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> len <span class="token operator">=</span> name<span class="token punctuation">.</span>length<span class="token punctuation">;</span> <span class="token comment">// 编译通过</span>
</code></pre></div><p>unknown 可以用于类型保护</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span>input<span class="token operator">:</span> <span class="token builtin">unknown</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token builtin">Array</span><span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> input<span class="token punctuation">.</span>length<span class="token punctuation">;</span> <span class="token comment">// 编译通过</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> input<span class="token punctuation">.</span>length<span class="token punctuation">;</span> <span class="token comment">// 编译出错</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="void-与-undefined"><a href="#void-与-undefined" class="header-anchor">#</a> void 与 undefined</h3> <p>在函数的返回类型中 void 和 undefined 功能类型，但是也存在一些区别， undefined 可以看做是 void 的子集，void 表示的是不关注返回值</p> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token constant">FC</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">interface</span> <span class="token class-name">ChildProps</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">onClick</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> Child<span class="token operator">:</span> <span class="token constant">FC</span><span class="token operator">&lt;</span>ChildProps<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> onClick <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onClick<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Child</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">Parent</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Child</span></span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;busyzz&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>通过上面的列子可以看出来，当返回类型为 void 的时候，无论 onClick 函数返回什么类型的值都是被允许的，但是将返回值类型设置为 undefined 的时候，onClick 函数必须明确的返回 undefined，所以一般使用的是 void 类型而不是 undefined</p> <h3 id="never"><a href="#never" class="header-anchor">#</a> never</h3> <p>never 表示不存在的类型，列子：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name"><span class="token constant">A</span></span> <span class="token operator">=</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">never</span><span class="token punctuation">;</span>
<span class="token comment">// 实际 A 的类型就是 string</span>
</code></pre></div><h2 id="二、运算符"><a href="#二、运算符" class="header-anchor">#</a> 二、运算符</h2> <h3 id="非空断言运算符"><a href="#非空断言运算符" class="header-anchor">#</a> 非空断言运算符 !</h3> <p>! 运算符用来告诉 typescript 对应的值是非 null | undefined 的 , 只能作用在 <code>编译阶段</code></p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">&quot;busyzz&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> len <span class="token operator">=</span> name<span class="token operator">!</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>
</code></pre></div><p>经过编译后：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">&quot;busyzz&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> len <span class="token operator">=</span> name<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
</code></pre></div><p>可以看到编译后的代码并没有任何变化，如果想做 <code>运行时</code> 的非空判断需要用到 <code>?.</code></p> <h3 id="可选运算符"><a href="#可选运算符" class="header-anchor">#</a> 可选运算符 ?.</h3> <p>相比于 ！作用于编译阶段，那么 ?. 就是更重要的运行时非空判断</p> <p>有这样一个场景，我们获取到后端返回的一个对象，需要去取这个对象的 name 属性，但是这个对象可能为 null，所以需要做一个非空判断，不然会导致运行时报错，空指针异常</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> obj<span class="token punctuation">;</span>
obj<span class="token operator">?.</span>name<span class="token punctuation">;</span>
obj<span class="token operator">?.</span>say<span class="token operator">?.</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="与"><a href="#与" class="header-anchor">#</a> ?? 与 ||</h3> <p>?? 与 || 功能相似，但是 ?? 只有在 左侧的值为 <code>null</code> | <code>undefined</code> 才会返回右侧的值， || 只要左侧的值为 <code>false</code> <code>NaN</code> <code>0</code> 等 <code>假值</code> 都会执行右侧逻辑</p> <h3 id="数字分隔符"><a href="#数字分隔符" class="header-anchor">#</a> 数字分隔符 _</h3> <p>为了更清楚的分割一个比较长的数字，编译以后不会有任何变化</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> total <span class="token operator">=</span> <span class="token number">1_234_567</span><span class="token punctuation">;</span>
<span class="token comment">// 编译以后 var total = 1234567</span>
</code></pre></div><h2 id="操作符"><a href="#操作符" class="header-anchor">#</a> 操作符</h2> <h3 id="获取键值-keyof"><a href="#获取键值-keyof" class="header-anchor">#</a> 获取键值 keyof</h3> <p>keyof 用于获取一个类型的所有键值，并返回这些键值组成的联合类型</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  gender<span class="token operator">:</span> <span class="token string">&quot;male&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;female&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name">PersonKeys</span> <span class="token operator">=</span> <span class="token keyword">keyof</span> Person<span class="token punctuation">;</span> <span class="token comment">// PersonKeys 的类型为 'name' | 'age' | 'gender'</span>
</code></pre></div><h3 id="获取对象的类型-typeof"><a href="#获取对象的类型-typeof" class="header-anchor">#</a> 获取对象的类型 typeof</h3> <p>typeof 可以获取一个对象的具体类型</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;busyzz&quot;</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">27</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> <span class="token class-name">Person</span> <span class="token operator">=</span> <span class="token keyword">typeof</span> person<span class="token punctuation">;</span> <span class="token comment">// Person 的类型为 { name: string; age: number; }</span>
</code></pre></div><h3 id="遍历操作-in"><a href="#遍历操作-in" class="header-anchor">#</a> 遍历操作 in</h3> <p>in 用于遍历一组联合类型</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">TypeNumber</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>key <span class="token keyword">in</span> <span class="token string">&quot;name&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;age&quot;</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> obj<span class="token operator">:</span> TypeNumber <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token number">123</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">123</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="四、泛型"><a href="#四、泛型" class="header-anchor">#</a> 四、泛型</h2> <h3 id="基础使用"><a href="#基础使用" class="header-anchor">#</a> 基础使用</h3> <p>泛型指的是一个不确定的类型，在使用某个类型或者调用某个方法的时候动态的传入进去</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// 类型</span>
<span class="token keyword">type</span> <span class="token class-name">Type<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token operator">|</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>param<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> type<span class="token operator">:</span> Type<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token string">&quot;busyzz&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> type2<span class="token operator">:</span> Type<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 定义方法</span>
<span class="token keyword">const</span> func <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>p<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> p<span class="token punctuation">;</span>
<span class="token comment">// 调用方法</span>
<span class="token generic-function"><span class="token function">func</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="泛型约束"><a href="#泛型约束" class="header-anchor">#</a> 泛型约束</h3> <p>通过 <code>extends</code> 对传入的泛型进行约束</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">sum</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token builtin">number</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> total <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  args<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>v <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>total <span class="token operator">+=</span> v<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> total<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 调用 sum 函数的时候 泛型 T 只能传入 number 的子类型</span>
</code></pre></div><h3 id="泛型条件"><a href="#泛型条件" class="header-anchor">#</a> 泛型条件</h3> <p>通过 <code>extends</code> 对类型做一个三元运算</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">Test<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token string">&quot;name&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;age&quot;</span> <span class="token operator">?</span> <span class="token constant">T</span> <span class="token operator">:</span> <span class="token builtin">never</span><span class="token punctuation">;</span>
<span class="token comment">// Test&lt;'name'&gt; 返回类型 'name'</span>
<span class="token comment">// Test&lt;number&gt; 返回类型 never</span>
</code></pre></div><h3 id="泛型推断-infer"><a href="#泛型推断-infer" class="header-anchor">#</a> 泛型推断 infer</h3> <p>infer 表示类型推断的意思，一般使用在 <code>泛型条件中</code> 和 extends 一起使用</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">Foo<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token keyword">infer</span> <span class="token constant">P</span> <span class="token punctuation">}</span> <span class="token operator">?</span> <span class="token constant">P</span> <span class="token operator">:</span> <span class="token builtin">never</span><span class="token punctuation">;</span>
<span class="token comment">// type Foo&lt;{name:string}&gt; 返回的类型为 string;</span>
<span class="token comment">// type Foo&lt;{name:number}&gt; 返回的类型为 number;</span>
</code></pre></div><h2 id="内置泛型"><a href="#内置泛型" class="header-anchor">#</a> 内置泛型</h2> <h3 id="partial-t"><a href="#partial-t" class="header-anchor">#</a> <code>Partial&lt;T&gt;</code></h3> <p>将泛型内的所有属性设置为可选的</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// 具体实现</span>
<span class="token keyword">type</span> <span class="token class-name">Partial<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">?</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 通过 Partial 包裹以后变为可选的</span>
<span class="token keyword">const</span> person<span class="token operator">:</span> Partial<span class="token operator">&lt;</span>Person<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;busyzz&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="record-k-t"><a href="#record-k-t" class="header-anchor">#</a> <code>Record&lt;K,T&gt;</code></h3> <p>将 K 中的属性全部设置为 T 类型，通常用它来申明一个普通 Object 对象</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// 具体实现</span>
<span class="token keyword">type</span> <span class="token class-name">Record<span class="token operator">&lt;</span><span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token keyword">keyof</span> <span class="token builtin">any</span><span class="token punctuation">,</span> <span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token constant">K</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> record<span class="token operator">:</span> Record<span class="token operator">&lt;</span><span class="token string">&quot;a&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span> Person<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  a<span class="token operator">:</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">&quot;busyzz&quot;</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span> <span class="token number">23</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  b<span class="token operator">:</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">&quot;zzb&quot;</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span> <span class="token number">27</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>这里的 <code>keyof any</code> 对应的类型为 <code>string | number | symbol</code></p> <h3 id="pick-t-k"><a href="#pick-t-k" class="header-anchor">#</a> <code>Pick&lt;T,K&gt;</code></h3> <p>选择一个类型中的一个或多个属性</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// 实现</span>
<span class="token keyword">type</span> <span class="token class-name">Pick<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token constant">K</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> person<span class="token operator">:</span> Pick<span class="token operator">&lt;</span>Person<span class="token punctuation">,</span> <span class="token string">&quot;name&quot;</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;busyzz&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> person<span class="token operator">:</span> Pick<span class="token operator">&lt;</span>Person<span class="token punctuation">,</span> <span class="token string">&quot;name&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;age&quot;</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;busyzz&quot;</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">27</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="exclude-t-u"><a href="#exclude-t-u" class="header-anchor">#</a> <code>Exclude&lt;T,U&gt;</code></h3> <p>从 T 联合类型中去除 T 和 U 的交集</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// 实现</span>
<span class="token keyword">type</span> <span class="token class-name">Exclude<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token constant">U</span></span> <span class="token operator">?</span> <span class="token builtin">never</span> <span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">T1</span></span> <span class="token operator">=</span> Exclude<span class="token operator">&lt;</span><span class="token string">&quot;a&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;b&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;c&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;a&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;b&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">;</span> <span class="token comment">// 'c'</span>
</code></pre></div><h3 id="extract-t-u"><a href="#extract-t-u" class="header-anchor">#</a> <code>Extract&lt;T,U&gt;</code></h3> <p>从 T 联合类型中提取 T 和 U 的交集</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// 实现</span>
<span class="token keyword">type</span> <span class="token class-name">Extract<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token constant">U</span></span> <span class="token operator">?</span> <span class="token constant">T</span> <span class="token operator">:</span> <span class="token builtin">never</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">T1</span></span> <span class="token operator">=</span> Extract<span class="token operator">&lt;</span><span class="token string">&quot;a&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;b&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;c&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;a&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;b&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">;</span> <span class="token comment">// 'a' | 'b'</span>
</code></pre></div><h3 id="omit-t-u"><a href="#omit-t-u" class="header-anchor">#</a> <code>Omit&lt;T,U&gt;</code></h3> <p>从一个类型中删除一个或多个属性</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// 具体实现</span>
<span class="token keyword">type</span> <span class="token class-name">Omit<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span> <span class="token keyword">extends</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> Pick<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> Exclude<span class="token operator">&lt;</span><span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token operator">&gt;&gt;</span><span class="token punctuation">;</span>

<span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  gender<span class="token operator">:</span> <span class="token string">&quot;male&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;female&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">T1</span></span> <span class="token operator">=</span> Omit<span class="token operator">&lt;</span>Person<span class="token punctuation">,</span> <span class="token string">&quot;name&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;gender&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/" class="prev router-link-active">
        概述
      </a></span> <!----></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.a00d7b6b.js" defer></script><script src="/assets/js/2.735d95ba.js" defer></script><script src="/assets/js/13.bee280c1.js" defer></script>
  </body>
</html>
